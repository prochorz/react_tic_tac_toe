(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,n){t.exports=n(23)},19:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),i=(n(19),n(1)),s=n(2),l=n(4),u=n(3),p=n(5),h=n(7),m=n(9),f=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise(function(e){return setTimeout(e,t)})},v=function(t,e){var n=[],a=3;return-1===t.indexOf(e)?(n=t.map(function(t,e){return null===t&&e}).filter(function(t){return!1!==t}),{countSteps:a,step:n[Math.floor(Math.random()*n.length)]}):(f.forEach(function(r){var c=Object(m.a)(r,3),o=c[0],i=c[1],s=c[2];if((null===t[o]||t[o]===e)&&(null===t[i]||t[i]===e)&&(null===t[s]||t[s]===e)){var l=[t[o],t[i],t[s]],u=l.filter(function(t){return null===t}).length;u<a&&(a=u,n=l.map(function(t,e){return null===t&&r[e]}).filter(function(t){return!1!==t}))}}),{countSteps:n.length,step:n[Math.floor(Math.random()*n.length)]||t.findIndex(function(t){return null===t})})},w=n(6),b=n(10),_={history:[]},O=Object(w.b)({tictactoe:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_ITEM":return Object(b.a)({},t,{history:[].concat(Object(h.a)(t.history),[e.payload])});case"CLEAR":return Object(b.a)({},t,{history:[]});default:return t}}}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,E=(g||w.c)(Object(w.a)()),y=Object(w.d)(O,E),j=function(t){return{type:"ADD_ITEM",payload:t}},x=function(){return{type:"CLEAR"}},C=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={users:["circle","cross"],currentUser:!1,status:!1,winner:!1,matrix:!1},n._reset=function(){n.setState({matrix:Array(9).fill(null),currentUser:1,status:!0,winner:{combination:[],user:!1}}),y.dispatch(x())},n._goRobot=function(){var t=n.state,e=t.matrix,a=t.currentUser;d(500).then(function(){var t=v(e,a?0:1),r=v(e,a);1===t.countSteps&&1!==r.countSteps?n._selectCell(t.step):n._selectCell(r.step)})},n._selectCell=function(t){var e=n.state,a=e.matrix,r=e.users,c=e.currentUser,o="Row".concat(Math.ceil(t/3)),i="Col".concat(t%3==0?1:t%2==0?2:3);y.dispatch(j("".concat((new Date).toTimeString().slice(0,5)," ").concat(r[c]," ").concat(o," ").concat(i))),n.setState({matrix:Object(h.a)(a).fill(c,t,t+1),currentUser:c?0:1})},n._clickOnCell=function(t){return function(){var e=n.state,a=e.matrix,r=e.currentUser,c=e.status;null===a[t]&&c&&1===r&&n._selectCell(t)}},n._statusText=function(){var t=n.state,e=t.matrix,a=t.users,r=t.winner,c=r.user,o=(r.combination,t.currentUser);return-1===e.indexOf(null)&&!1===c?"It's a draw":!1===c?"Turn ".concat(a[o]):"Player ".concat(a[c]," won!")},n}return Object(p.a)(e,t),Object(s.a)(e,[{key:"componentWillMount",value:function(){this._reset()}},{key:"componentDidUpdate",value:function(t,e){var n=this.state,a=n.matrix,r=n.users,c=n.currentUser;if(e.matrix.join("")!==a.join("")){var o=function(t){var e,n;return f.every(function(a){var r=Object(m.a)(a,3),c=r[0],o=r[1],i=r[2];return null===t[c]||t[c]!==t[o]||t[c]!==t[i]||(e=t[c],n=a,!1)}),{combination:n,user:void 0!==e&&e}}(a);!1!==o.user?(this.setState({status:!1,winner:o}),y.dispatch(j("".concat((new Date).toTimeString().slice(0,5)," ").concat(r[o.user]," won!")))):-1===a.indexOf(null)?(this.setState({status:!1}),y.dispatch(j("".concat((new Date).toTimeString().slice(0,5)," it's a draw")))):0===c&&this._goRobot()}}},{key:"render",value:function(){var t=this,e=this.state,n=e.matrix,a=e.users,c=e.winner.combination,o=this.props.showPopup,i=n.map(function(e,n){var o="tictactoe__cell";return-1!==c.indexOf(n)&&(o+=" -won"),r.a.createElement("div",{key:n,onClick:t._clickOnCell(n),className:o},r.a.createElement("div",{className:null!==e?"-".concat(a[e]):""}))});return r.a.createElement("div",{className:"tictactoe"},r.a.createElement("div",{className:"tictactoe__title"},this._statusText()),r.a.createElement("div",{className:"tictactoe__board"},i),r.a.createElement("div",{className:"tictactoe__footer"},r.a.createElement("button",{onClick:this._reset},"Reset"),r.a.createElement("button",{onClick:o},"Show Logs")))}}]),e}(a.Component),k=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=y.getState().tictactoe.history;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup__inner"},r.a.createElement("h3",null,"Logs"),r.a.createElement("div",{className:"popup__list"},r.a.createElement("ol",null,t.length?t.map(function(t,e){return r.a.createElement("li",{key:e},t)}):"<li>Plz, go to play!</li>")),r.a.createElement("button",{onClick:this.props.closePopup},"Close")))}}]),e}(a.Component),S=(n(22),function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={showPopup:!1},n._togglePopup=function(){n.setState({showPopup:!n.state.showPopup})},n}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this.state.showPopup;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{showPopup:this._togglePopup}),t?r.a.createElement(k,{closePopup:this._togglePopup}):"")}}]),e}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.98929b8b.chunk.js.map